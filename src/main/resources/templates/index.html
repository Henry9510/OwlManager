<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml" lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="/css/index.css" rel="stylesheet">
    <link href="/css/tablas.css" rel="stylesheet">
    <title>Owl Manager Dashboard</title>
</head>

<body>
<header class="header">
    <div class="logo-container">
        <img src="/img/buho.png" class="logoImg" alt="Logo de Owl Manager">
        <a class="logotexto" href="/templates/index">Owl Manager Dashboard</a>
    </div>

    <nav class="sidebar">
        <h2>Menú</h2>
        <ul class="nav-list">
            <li><a href="/templates/index">Inicio</a></li>

            <li>
                <a class="toggle"><i class="fas fa-users"></i> Gestión Usuarios</a>
                <ul class="submenu none">
                    <li><a href="/templates/nuevo-empleado"><i class="fas fa-user-plus"></i> Nuevo</a></li>
                    <li><a href="/templates/lista-empleado"><i class="fas fa-list"></i> Listado</a></li>
                    <li><a href="/templates/registro-horas"><i class="fas fa-clock"></i> Registro de Tiempo</a></li>
                    <li><a href="/templates/lista-registro-horas"><i class="fas fa-list-ol"></i> Lista Registro de Tiempo</a></li>
                </ul>
            </li>

            <li>
                <a class="toggle"><i class="fas fa-cogs"></i> Gestión del Inventario</a>
                <ul class="submenu none">
                    <li><a href="/templates/nuevo-producto"><i class="fas fa-box-open"></i> Crear Producto</a></li>
                    <li><a href="/templates/lista-insumo"><i class="fas fa-th-list"></i> Lista de Productos</a></li>
                    <li><a href="/templates/almacen"><i class="fas fa-warehouse"></i> Ubicar en Almacén</a></li>
                    <li><a href="/templates/lista-almacenaje"><i class="fas fa-boxes"></i> Almacén</a></li>
                    <li><a href="/templates/recibirDevoluciones"><i class="fas fa-undo-alt"></i> Recibir Devoluciones</a></li>
                    <li><a href="/templates/reabastecerAlmacen"><i class="fas fa-arrow-circle-up"></i> Reabastecimiento</a></li>
                </ul>
            </li>

            <li>
                <a class="toggle"><i class="fas fa-project-diagram"></i> Gestión de Proyectos</a>
                <ul class="submenu none">
                    <li><a href="/templates/nuevo-proyecto"><i class="fas fa-plus-circle"></i> Nuevo</a></li>
                    <li><a href="/templates/recibirPedidos"><i class="fas fa-truck-loading"></i> Recibir Pedidos</a></li>
                    <li><a href="/templates/lista-proyectos"><i class="fas fa-tasks"></i> Lista Proyecto</a></li>
                </ul>
            </li>

            <li>
                <a class="toggle"><i class="fas fa-exchange-alt"></i> Gestión de Transferencias</a>
                <ul class="submenu none">
                    <li><a href="/templates/transferir-almacen"><i class="fas fa-arrow-alt-circle-right"></i> Transferir a almacén</a></li>
                    <li><a href="/templates/transferir-proyecto"><i class="fas fa-arrow-alt-circle-left"></i> Transferir a proyecto</a></li>
                    <li><a href="/templates/lista-transferenciaAlmacen"><i class="fas fa-exchange-alt"></i> Lista Transferencia Almacén</a></li>
                    <li><a href="/templates/lista-transferencia"><i class="fas fa-exchange-alt"></i> Lista Transferencia Proyectos</a></li>
                </ul>
            </li>

            <li>
                <a class="toggle"><i class="fas fa-chart-line"></i> Reportes</a>
                <ul class="submenu none">
                    <li><a href="#"><i class="fas fa-project-diagram"></i> Avance en proyecto</a></li>
                    <li><a href="#"><i class="fas fa-box"></i> Inventario de proyecto</a></li>
                    <li><a href="#"><i class="fas fa-exclamation-triangle"></i> Insumos Faltantes</a></li>
                </ul>
            </li>


            <li><a href="/templates/login">Logout</a></li>
        </ul>
    </nav>
</header>


<main class="main-index">
    <!-- Barra de tareas (bienvenida) -->
    <section class="taskbar">
        <span>Bienvenido</span>
        <div class="taskbar-actions">
            <button>Acción 1</button>
            <button>Acción 2</button>
        </div>
    </section>

    <section class="cont-main">
        <section class="cards">
            <div class="card" style="background: #A3C1DA">
                <i class="fas fa-calendar"></i>
                <div class="info">
                    <h3>Tarjeta Proyectos del Mes</h3>
                    <span class="number" id="totalProyectoMes">0</span>
                </div>
            </div>
            <div class="card" style="background: #bdecb6">
                <i class="fas fa-calendar-check"></i>
                <div class="info">
                    <h3>Tarjeta proyecto terminado mes</h3>
                    <span class="number">45</span>
                </div>
            </div>
            <div class="card" style="background: #F9E5A8">
                <i class="fas fa-list-alt"></i>
                <div class="info">
                    <h3>Tarjeta total de solicitudes</h3>
                    <span class="number">78</span>
                </div>
            </div>
            <div class="card" style="background: #F4C2C2">
                <i class="fas fa-exclamation-triangle"></i>
                <div class="info">
                    <h3>Tarjeta total de faltantes</h3>
                    <span class="number">12</span>
                </div>
            </div>
        </section>
        <section class="tables">
            <div class="tablas-mes">
                <div class="table-container-1">
                    <h2>Proyectos del Mes</h2>
                    <table id="tablaProyectoMes">
                        <thead>
                        <tr>
                            <th>Fecha inicio</th>
                            <th>Número de Proyecto</th>
                            <th>Descripción</th>
                            <th>Horas Estimadas</th>
                            <th>Horas Reales</th>
                            <th>Fecha Fin</th>
                        </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>

                <div class="table-container-2">
                    <h2>Proyectos Terminados del Mes</h2>
                    <table id="tablaProyectoMesTerminados">
                        <thead>
                        <tr>
                            <th>Código Proyecto</th>
                            <th>Descripción</th>
                            <th>Fecha Inicio</th>
                            <th>Fecha Fin</th>
                            <th>Horas Estimadas</th>
                            <th>Horas Reales</th>
                            <th>Estado</th>
                        </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div> <!-- Asegúrate de cerrar el div aquí -->
        </section>

        <div class="tablas-indicadores">
            <div class="table-container-3">
                <h2>Horas por Proyecto</h2>
                <table id="tablaHorasHombre" style="visibility: hidden">
                    <thead>
                    <tr>
                        <th>Número de Proyecto</th>
                        <th>Descripción</th>
                        <th>Horas Estimadas</th>
                        <th>Horas Reales</th>
                    </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
                <canvas id="graficoHoras" width="400" height="200"></canvas>
            </div>

            <div class="table-container-4">
                <h2>Consumo y Faltantes por Proyecto</h2>
                <table id="consumoFaltantes">
                    <thead>
                    <tr>
                        <th>Numero proyecto</th>
                        <th>faltantes</th>
                        <th>totales</th>

                    </tr>
                    </thead>
                    <tbody>

                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <div class="carga">
        <button type="submit" id="cargaMasiva">CARGA MASIVA</button>
    </div>
</main>

<aside>
    <div class="calendario-api">
        <div>

        </div>
    </div>
    <div>
        <div class="divisa-api">

        </div>
    </div>

</aside>

<script src="/js/infoIndex.js" defer></script>
<script src="/js/cargardatos.js" ></script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        let toggles = document.querySelectorAll(".toggle");

        toggles.forEach(toggle => {
            toggle.addEventListener("click", function () {
                let submenu = this.nextElementSibling;
                submenu.classList.toggle("hide");
                this.classList.toggle("active");
            });
        });
    });
</script>
</body>

</html>